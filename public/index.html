<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>‚ö° CoinStorm Premium</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: linear-gradient(to bottom, #111, #000);
      color: #fff;
    }
    h1, h2 { text-align: center; }
    .container { max-width: 480px; margin: auto; padding: 1rem; }
    .btn {
      display: block;
      width: 100%;
      padding: 0.8rem;
      margin: 0.5rem 0;
      border: none;
      border-radius: 12px;
      font-size: 1rem;
      font-weight: bold;
      cursor: pointer;
    }
    .btn-purple { background: #7c3aed; color: #fff; }
    .btn-purple:hover { background: #6d28d9; }
    .btn-green { background: #16a34a; color: #fff; }
    .btn-green:disabled { background: #444; cursor: not-allowed; }
    .btn-yellow { background: #facc15; color: #000; }
    .card {
      background: #1f2937;
      padding: 1rem;
      border-radius: 12px;
      margin: 0.8rem 0;
    }
    .flex { display: flex; justify-content: space-between; align-items: center; }
    .history { max-height: 200px; overflow-y: auto; font-size: 0.9rem; }
    .bottom-nav {
      position: fixed; bottom: 0; left: 0; right: 0;
      display: flex; justify-content: space-around;
      background: #111; border-top: 1px solid #333;
      padding: 0.6rem 0;
    }
    .bottom-nav button {
      background: none; border: none; color: #777; font-size: 1rem; cursor: pointer;
    }
    .bottom-nav .active { color: #facc15; font-weight: bold; }
    .ad-banner { text-align: center; margin: 1rem 0; }
    .sticky-ad {
      position: fixed; bottom: 3.5rem; left: 0; right: 0;
      text-align: center;
    }
    img.ad-img { border-radius: 8px; max-width: 95%; }
    /* Animation popup */
    .redeem-popup {
      position: fixed;
      top: 40%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0);
      background: #16a34a;
      color: #fff;
      padding: 1.2rem 1.5rem;
      border-radius: 12px;
      font-weight: bold;
      z-index: 1000;
      text-align: center;
      transition: transform 0.3s ease-in-out;
    }
    .redeem-popup.show {
      transform: translate(-50%, -50%) scale(1);
    }
    .copy-code {
      margin-top: 0.5rem;
      background: #fff;
      color: #000;
      padding: 0.3rem 0.6rem;
      border-radius: 6px;
      cursor: pointer;
      display: inline-block;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>‚ö° CoinStorm</h1>
    <p id="balance" style="text-align:center;">üí∞ Balance: 0</p>

    <!-- Home Tab -->
    <div id="homeTab" class="tab">
      <button class="btn btn-purple" onclick="watchAd()">‚ñ∂ Watch Ad (+10 Coins)</button>

      <!-- Native Banner Ad -->
      <div class="ad-banner">
        <script async="async" data-cfasync="false" src="//pl27363242.profitableratecpm.com/321b2d611b0c8db166ec76303f1333a3/invoke.js"></script>
        <div id="container-321b2d611b0c8db166ec76303f1333a3"></div>
      </div>

      <!-- Daily Streak -->
      <div class="card">
        <h2>üî• Daily Streak: <span id="streak">0</span> days</h2>
        <button id="claimBtn" class="btn btn-green" onclick="claimStreak()">Claim Streak +20</button>
      </div>

      <!-- Rewards -->
      <div class="card">
        <h2>üéÅ Redeem</h2>
        <div class="flex">
          <span>Google Play ‚Çπ10</span>
          <button class="btn btn-yellow" onclick="redeem500()">500 coins</button>
        </div>
        <div class="flex"><span>Amazon ‚Çπ50</span><button class="btn btn-yellow">2500 coins</button></div>
        <div class="flex"><span>PayPal ‚Çπ200</span><button class="btn btn-yellow">10000 coins</button></div>
      </div>
    </div>

    <div id="historyTab" class="tab" style="display:none;">
      <div class="card">
        <h2>üìú History</h2>
        <div id="historyList" class="history"></div>
      </div>
    </div>

    <div id="leaderTab" class="tab" style="display:none;">
      <div class="card">
        <h2>üèÜ Leaderboard</h2>
        <p style="text-align:center;color:#999;">Coming soon...</p>
      </div>
    </div>
  </div>

  <!-- Redeem Popup -->
  <div id="redeemPopup" class="redeem-popup">
    üéâ Redeemed!<br>
    Code: <span id="redeemCode">GYB8MHK6JL95BH55</span>
    <div class="copy-code" onclick="copyCode()">Copy</div>
  </div>

  <!-- Sticky Bottom Banner Ad -->
  <div class="sticky-ad">
    <script type="text/javascript">
      atOptions = {
        'key' : '1f337db27a0d5b62ae02902a6ad75bd1',
        'format' : 'iframe',
        'height' : 50,
        'width' : 320,
        'params' : {}
      };
    </script>
    <script type="text/javascript" src="//www.highperformanceformat.com/1f337db27a0d5b62ae02902a6ad75bd1/invoke.js"></script>
  </div>

  <!-- Popunder Ad (one per page) -->
  <script type='text/javascript' src='//pl27388614.profitableratecpm.com/ed/e1/b3/ede1b3be0ceadee0f16491a8d7a25b96.js'></script>

  <!-- Bottom Navigation -->
  <div class="bottom-nav">
    <button id="homeBtn" class="active" onclick="showTab('home')">Home</button>
    <button id="historyBtn" onclick="showTab('history')">History</button>
    <button id="leaderBtn" onclick="showTab('leader')">Leaderboard</button>
  </div>

  <script>
    let coins = Number(localStorage.getItem("coins")) || 0;
    let streak = Number(localStorage.getItem("streak")) || 0;
    let history = JSON.parse(localStorage.getItem("history") || "[]");
    let lastClaim = localStorage.getItem("lastClaim");

    const balanceEl = document.getElementById("balance");
    const streakEl = document.getElementById("streak");
    const historyList = document.getElementById("historyList");
    const claimBtn = document.getElementById("claimBtn");
    const redeemPopup = document.getElementById("redeemPopup");

    function updateUI() {
      balanceEl.textContent = "üí∞ Balance: " + coins;
      streakEl.textContent = streak;
      historyList.innerHTML = history.length === 0
        ? "<p style='color:#777;text-align:center;'>No history yet</p>"
        : history.map(item => `<div class='flex'><span>${item.action}</span><span style='color:#999'>${item.date}</span></div>`).join("");
      if (lastClaim === new Date().toDateString()) {
        claimBtn.disabled = true;
        claimBtn.textContent = "Already Claimed";
      }
    }
    updateUI();

    function saveState() {
      localStorage.setItem("coins", coins);
      localStorage.setItem("streak", streak);
      localStorage.setItem("history", JSON.stringify(history));
      localStorage.setItem("lastClaim", lastClaim);
    }

    function addHistory(action) {
      history.unshift({ action, date: new Date().toLocaleString() });
      saveState();
      updateUI();
    }

    function watchAd() {
      const links = [
        "https://www.profitableratecpm.com/hte0hzu0v?key=fb45638729e3933cb3d3e10867a09592",
        "https://www.profitableratecpm.com/i63pbecy1?key=6ca31a0952a0956430a016a37ca0fd57",
        "https://www.profitableratecpm.com/eszwggg0?key=784e73c7dc4b992d827cc02a85d064b7"
      ];
      const url = links[Math.floor(Math.random() * links.length)];
      window.open(url, "_blank");
      setTimeout(() => {
        coins += 10;
        addHistory("Watched Ad +10");
        updateUI();
      }, 20000);
    }

    function claimStreak() {
      if (lastClaim !== new Date().toDateString()) {
        coins += 20;
        streak++;
        lastClaim = new Date().toDateString();
        addHistory("Daily Streak Claimed +20");
        saveState();
        updateUI();
      }
    }

    function redeem500() {
      if (coins >= 500) {
        coins -= 500;
        addHistory("Redeemed 500 Coins for Google Play");
        updateUI();
        // Show popup
        redeemPopup.classList.add("show");
        setTimeout(() => redeemPopup.classList.remove("show"), 4000);
      } else {
        alert("Not enough coins!");
      }
    }

    function copyCode() {
      navigator.clipboard.writeText("GYB8MHK6JL95BH55");
      alert("Code copied!");
    }

    function showTab(tab) {
      document.querySelectorAll(".tab").forEach(t => t.style.display = "none");
      document.getElementById(tab+"Tab").style.display = "block";
      document.querySelectorAll(".bottom-nav button").forEach(b => b.classList.remove("active"));
      document.getElementById(tab+"Btn").classList.add("active");
    }
  </script>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3201100934909470"
  crossorigin="anonymous"></script>
  <style>
    /* Redeem popup with fade + scale animation */
    .redeem-popup {
      position: fixed;
      top: 40%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0.5);
      background: #16a34a;
      color: #fff;
      padding: 1.2rem 1.5rem;
      border-radius: 12px;
      font-weight: bold;
      z-index: 1000;
      text-align: center;
      opacity: 0;
      transition: transform 0.4s ease, opacity 0.4s ease;
    }
    .redeem-popup.show {
      transform: translate(-50%, -50%) scale(1);
      opacity: 1;
    }
    .copy-code {
      margin-top: 0.5rem;
      background: #fff;
      color: #000;
      padding: 0.3rem 0.6rem;
      border-radius: 6px;
      cursor: pointer;
      display: inline-block;
      transition: background 0.2s;
    }
    .copy-code:hover {
      background: #facc15;
      color: #000;
    }
  </style>
  
  <div id="redeemPopup" class="redeem-popup">
    üéâ Redeemed!<br>
    Code: <span id="redeemCode">GYB8MHK6JL95BH55</span>
    <div class="copy-code" onclick="copyCode()">Copy</div>
  </div>
  
  <script>
  function redeem500() {
    if (coins >= 500) {
      coins -= 500;
      addHistory("Redeemed 500 Coins for Google Play");
      updateUI();
  
      // Show popup with smooth animation
      redeemPopup.classList.add("show");
      setTimeout(() => {
        redeemPopup.classList.remove("show");
      }, 4000); // popup stays for 4 seconds
    } else {
      alert("Not enough coins!");
    }
  }
  
  function copyCode() {
    navigator.clipboard.writeText("GYB8MHK6JL95BH55");
    alert("Code copied!");
  }
  </script>
  
</body>
</html>